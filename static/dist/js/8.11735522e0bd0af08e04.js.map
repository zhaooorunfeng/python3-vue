{"version":3,"sources":["webpack:///./src/views/ui_demo/workbench/charts/job_tend.vue?e758","webpack:///src/views/ui_demo/workbench/charts/job_pie.vue","webpack:///./src/views/ui_demo/workbench/charts/job_tend.vue?0998","webpack:///./src/views/ui_demo/workbench/home_second.vue","webpack:///./src/views/ui_demo/workbench/charts/job_pie.vue?c3de","webpack:///src/views/ui_demo/workbench/home_second.vue","webpack:///./src/views/ui_demo/workbench/charts/job_tend.vue","webpack:///./src/views/ui_demo/workbench/charts/job_pie.vue","webpack:///./src/views/ui_demo/workbench/charts/job_pie.vue?7801","webpack:///src/views/ui_demo/workbench/charts/job_tend.vue","webpack:///./src/views/ui_demo/workbench/home_second.vue?e726","webpack:///./src/views/ui_demo/workbench/home_second.vue?aa03"],"names":["render","_vm","this","_h","$createElement","_self","_c","style","height","attrs","tendId","staticRenderFns","component","staticClass","slot","cardList","_v","_b","barData","$attrs","pieData","class","btnDays","on","$event","tendData"],"mappings":"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","file":"static/dist/js/8.11735522e0bd0af08e04.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{style:({ height: _vm.height + 'px' }),attrs:{\"id\":_vm.tendId}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div id=\"job-pie\"></div>\n</template>\n\n<script>\n    import {Chart, registerShape} from '@antv/g2'\n\n    export default {\n        name: 'job-pie',\n        props: {\n            pieData: {\n                type: Object,\n                default: () => ({})\n            },\n            height: {\n                type: Number,\n                default: 240\n            },\n            navToggle: {\n                type: Boolean,\n                default: false\n            }\n        },\n        data() {\n            return {\n                chart: null\n            }\n        },\n        watch: {\n            navToggle: {\n                handler(val, old) {\n                    if (this.chart) {\n                        setTimeout(() => {\n                            this.chart.forceFit()\n                        }, 200)\n                    }\n                },\n                immediate: true\n            }\n        },\n        mounted() {\n            this.initChart()\n        },\n        methods: {\n            initChart() {\n                const that = this\n                let max = 0\n                this.pieData.data.forEach(function(obj) {\n                    if (obj[that.pieData.metric] > max) {\n                        max = obj[that.pieData.metric]\n                    }\n                })\n\n                // 自定义 other 的图形，增加两条线\n                registerShape('interval', 'slice-shape', {\n                    draw(cfg, container) {\n                        const points = cfg.points\n                        const origin = cfg.data\n                        const percent = origin.value / max\n                        const xWidth = points[2].x - points[1].x\n                        const width = xWidth * percent\n                        let path = []\n                        path.push(['M', points[0].x, points[0].y])\n                        path.push(['L', points[1].x, points[1].y])\n                        path.push(['L', points[0].x + width, points[2].y])\n                        path.push(['L', points[0].x + width, points[3].y])\n                        path.push('Z')\n                        path = this.parsePath(path)\n                        return container.addShape('path', {\n                            attrs: {\n                                fill: cfg.color,\n                                path\n                            }\n                        })\n                    }\n                })\n\n                const chart = new Chart({\n                    container: 'job-pie',\n                    autoFit: true,\n                    height: that.height\n                })\n                this.chart = chart\n                chart.data(this.pieData.data)\n                chart.coordinate('theta', {\n                    radius: 0.85,\n                    innerRadius: 0.8\n                })\n                chart.legend(this.pieData.dimension, {\n                    position: 'right',\n                    custom: true,\n                    items: that.pieData.data.map((obj, index) => {\n                        return {\n                            name: obj[that.pieData.dimension],\n                            value: obj[that.pieData.metric],\n                            marker: {\n                                symbol: 'square',\n                                style: {\n                                    r: 5,\n                                    fill: chart.getTheme().colors10[index]\n                                }\n                            }\n                        }\n                    }),\n                    itemValue: {\n                        style: {\n                            fill: '#313238',\n                            fontSize: 12\n                        }\n                    },\n                    itemName: {\n                        spacing: 30\n                    }\n                })\n                chart.tooltip(false)\n                chart\n                    .interval()\n                    .adjust('stack')\n                    .position(this.pieData.metric)\n                    .color(this.pieData.dimension)\n                    .shape('slice-shape')\n\n                chart.interaction('element-highlight')\n                chart.render()\n\n                updateAnnotation(this.pieData.data[0])\n                // 监听 element 上状态的变化来动态更新 Annotation 信息\n                chart.on('element:statechange', (ev) => {\n                    const {state, stateStatus, element} = ev.gEvent.originalEvent\n\n                    // 本示例只需要监听 active 的状态变化\n                    if (state === 'active') {\n                        const data = element.getData()\n                        if (stateStatus) {\n                            // 更新 Annotation\n                            updateAnnotation(data)\n                        }\n                    }\n                })\n\n                // 绘制 annotation\n                let lastItem\n\n                function updateAnnotation(data) {\n                    if (data[that.pieData.dimension] !== lastItem) {\n                        chart.annotation().clear(true)\n                        chart\n                            .annotation()\n                            .text({\n                                position: ['50%', '50%'],\n                                content: `${data[that.pieData.metric]}%`,\n                                style: {\n                                    fontSize: 24,\n                                    fill: '#63656E',\n                                    textAlign: 'center'\n                                },\n                                offsetY: -20,\n                                offsetX: 4\n                            })\n                            .text({\n                                position: ['50%', '50%'],\n                                content: data[that.pieData.dimension],\n                                style: {\n                                    fontSize: 14,\n                                    fill: '#699DF4',\n                                    textAlign: 'center'\n                                },\n                                offsetY: 20\n                            })\n                        chart.render(true)\n                        lastItem = data[that.pieData.dimension]\n                    }\n                }\n            }\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./job_tend.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./job_tend.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./home_second.vue?vue&type=template&id=6b70e7c6&scoped=true&\"\nimport script from \"./home_second.vue?vue&type=script&lang=js&\"\nexport * from \"./home_second.vue?vue&type=script&lang=js&\"\nimport style0 from \"./home_second.vue?vue&type=style&index=0&id=6b70e7c6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6b70e7c6\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"job-pie\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"home-second\">\n        <bk-container :col=\"8\" :gutter=\"16\" ext-cls=\"home-container\">\n            <bk-row>\n                <bk-col :span=\"0\">\n                    <Card :show-header=\"false\">\n                        <template slot=\"content\">\n                            <display-card :card-list=\"cardList\" :height=\"66\"></display-card>\n                        </template>\n                    </Card>\n                </bk-col>\n            </bk-row>\n            <bk-row>\n                <bk-col :span=\"3\">\n                    <Card :title=\"'作业TOP10'\">\n                        <template slot=\"content\">\n                            <job-bar :bar-data=\"barData\" :height=\"250\" v-bind=\"$attrs\"></job-bar>\n                        </template>\n                    </Card>\n                </bk-col>\n                <bk-col :span=\"5\">\n                    <Card :title=\"'作业动态分布'\">\n                        <template slot=\"content\">\n                            <job-pie :pie-data=\"pieData\" :height=\"250\" v-bind=\"$attrs\"></job-pie>\n                        </template>\n                    </Card>\n                </bk-col>\n            </bk-row>\n            <bk-row>\n                <bk-col :span=\"0\">\n                    <Card :title=\"'作业执行趋势'\">\n                        <template slot=\"header\">\n                            <div class=\"bk-button-group\">\n                                <bk-button\n                                    size=\"small\"\n                                    @click=\"btnDays = '7'\"\n                                    :class=\"btnDays === '7' ? 'is-selected' : ''\">\n                                    近7天\n                                </bk-button>\n                                <bk-button\n                                    size=\"small\"\n                                    @click=\"btnDays = '15'\"\n                                    :class=\"btnDays === '15' ? 'is-selected' : ''\">\n                                    近15天\n                                </bk-button>\n                                <bk-button\n                                    size=\"small\"\n                                    @click=\"btnDays = '30'\"\n                                    :class=\"btnDays === '30' ? 'is-selected' : ''\">\n                                    近30天\n                                </bk-button>\n                            </div>\n                        </template>\n                        <template slot=\"content\">\n                            <job-tend :tend-data=\"tendData\" :height=\"270\" v-bind=\"$attrs\"></job-tend>\n                        </template>\n                    </Card>\n                </bk-col>\n            </bk-row>\n        </bk-container>\n    </div>\n</template>\n\n<script>\n    import Card from '@/components/base/card'\n    import DisplayCard from '@/components/custom/display_card'\n    import JobBar from './charts/job_bars'\n    import JobPie from './charts/job_pie'\n    import JobTend from './charts/job_tend'\n\n    export default {\n        name: 'home-second',\n        components: {\n            Card,\n            DisplayCard,\n            JobBar,\n            JobPie,\n            JobTend\n        },\n        data() {\n            return {\n                btnDays: '7',\n                cardList: [\n                    {\n                        'num': 2014,\n                        'name': '作业名称',\n                        'icon': 'iconfont icon-mianxingtubiao-zuoyejiankongdaping',\n                        'info': '作业名称解释，tooltips位置视情况调试',\n                        'color': '#63656E'\n                    },\n                    {\n                        'num': 2046,\n                        'name': '业务名称',\n                        'icon': 'iconfont icon-mianxingtubiao-zuoyejiankongdaping',\n                        'info': '',\n                        'color': '#63656E'\n                    },\n                    {\n                        'num': 1024,\n                        'name': '实例名称',\n                        'icon': 'iconfont icon-mianxingtubiao-zuoyejiankongdaping',\n                        'info': '',\n                        'color': '#63656E'\n                    },\n                    {\n                        'num': 4068,\n                        'name': '模型名称',\n                        'icon': 'iconfont icon-mianxingtubiao-zuoyejiankongdaping',\n                        'info': '',\n                        'color': '#63656E'\n                    }\n                ],\n                barData: {\n                    data: [\n                        {name: '指标1', value: 588},\n                        {name: '指标2', value: 570},\n                        {name: '指标3', value: 500},\n                        {name: '指标4', value: 400},\n                        {name: '指标5', value: 400},\n                        {name: '指标6', value: 290},\n                        {name: '指标7', value: 180},\n                        {name: '指标8', value: 165},\n                        {name: '指标9', value: 150},\n                        {name: '指标10', value: 88}\n                    ],\n                    dimension: 'name',\n                    metric: 'value'\n                },\n                pieData: {\n                    data: [\n                        {name: '正常', value: 72},\n                        {name: '异常', value: 28}\n                    ],\n                    dimension: 'name',\n                    metric: 'value'\n                },\n                tendData: {\n                    data: {},\n                    dimension: 'month',\n                    metric: 'value',\n                    legend: 'name',\n                    line: 'limit',\n                    name: 'test'\n                },\n                data: {\n                    '7': {\n                        barData: [\n                            {name: '作业一', month: '1st', value: 1300},\n                            {name: '作业一', month: '2nd', value: 200},\n                            {name: '作业一', month: '3rd', value: 600},\n                            {name: '作业一', month: '4th', value: 500},\n                            {name: '作业一', month: '5th', value: 400},\n                            {name: '作业二', month: '1st', value: 800},\n                            {name: '作业二', month: '2nd', value: 600},\n                            {name: '作业二', month: '3rd', value: 1100},\n                            {name: '作业二', month: '4th', value: 300},\n                            {name: '作业二', month: '5th', value: 1000},\n                            {name: '作业三', month: '1st', value: 1400},\n                            {name: '作业三', month: '2nd', value: 100},\n                            {name: '作业三', month: '3rd', value: 300},\n                            {name: '作业三', month: '4th', value: 600},\n                            {name: '作业三', month: '5th', value: 700}\n                        ],\n                        lineData: [\n                            {limit: 300, month: '1st'},\n                            {limit: 400, month: '2nd'},\n                            {limit: 400, month: '3rd'},\n                            {limit: 400, month: '4th'},\n                            {limit: 400, month: '5th'}\n                        ]\n                    },\n                    '15': {\n                        barData: [\n                            {name: '作业一', month: '6th', value: 200},\n                            {name: '作业一', month: '8th', value: 200},\n                            {name: '作业一', month: '12th', value: 600},\n                            {name: '作业一', month: '13th', value: 500},\n                            {name: '作业一', month: '15th', value: 1200},\n                            {name: '作业二', month: '6th', value: 800},\n                            {name: '作业二', month: '8th', value: 600},\n                            {name: '作业二', month: '12th', value: 1100},\n                            {name: '作业二', month: '13th', value: 300},\n                            {name: '作业二', month: '15th', value: 1000},\n                            {name: '作业三', month: '6th', value: 400},\n                            {name: '作业三', month: '8th', value: 100},\n                            {name: '作业三', month: '12th', value: 1300},\n                            {name: '作业三', month: '13th', value: 600},\n                            {name: '作业三', month: '15th', value: 700}\n                        ],\n                        lineData: [\n                            {limit: '300', month: '6th'},\n                            {limit: '400', month: '8th'},\n                            {limit: '400', month: '12th'},\n                            {limit: '400', month: '13th'},\n                            {limit: '400', month: '15th'}\n                        ]\n                    },\n                    '30': {\n                        barData: [\n                            {name: '作业一', month: '12th', value: 300},\n                            {name: '作业一', month: '15th', value: 200},\n                            {name: '作业一', month: '17th', value: 600},\n                            {name: '作业一', month: '20th', value: 500},\n                            {name: '作业一', month: '28th', value: 400},\n                            {name: '作业二', month: '12th', value: 500},\n                            {name: '作业二', month: '15th', value: 600},\n                            {name: '作业二', month: '17th', value: 1100},\n                            {name: '作业二', month: '20th', value: 300},\n                            {name: '作业二', month: '28th', value: 1000},\n                            {name: '作业三', month: '12th', value: 1400},\n                            {name: '作业三', month: '15th', value: 1100},\n                            {name: '作业三', month: '17th', value: 300},\n                            {name: '作业三', month: '20th', value: 600},\n                            {name: '作业三', month: '28th', value: 200}\n                        ],\n                        lineData: [\n                            {limit: '300', month: '12th'},\n                            {limit: '400', month: '15th'},\n                            {limit: '400', month: '17th'},\n                            {limit: '400', month: '20th'},\n                            {limit: '400', month: '28th'}\n                        ]\n                    }\n                }\n            }\n        },\n        watch: {\n            btnDays: {\n                handler(val) {\n                    this.tendData.data = this.data[val]\n                    // this.tendData.data.splice(0, this.tendData.data.length, ...this.data[val])\n                },\n                immediate: true\n            }\n        },\n        created() {\n            this.tendData.data = this.data[this.btnDays]\n            // this.tendData.data.splice(0, this.tendData.data.length, ...this.data[this.btnDays])\n        },\n        methods: {\n            handleMoreInfo() {\n                console.log('查看更多')\n            }\n        }\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n    .home-second {\n        padding: 20px 24px 20px 24px;\n        .home-container {\n            padding: 0 0 !important;\n            .bk-grid-row + .bk-grid-row {\n                margin-top: 16px;\n            }\n\n            .font-btn {\n                font-size: 12px;\n            }\n        }\n    }\n</style>\n","import { render, staticRenderFns } from \"./job_tend.vue?vue&type=template&id=5aa9f904&scoped=true&\"\nimport script from \"./job_tend.vue?vue&type=script&lang=js&\"\nexport * from \"./job_tend.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5aa9f904\",\n  null\n  \n)\n\nexport default component.exports","import { render, staticRenderFns } from \"./job_pie.vue?vue&type=template&id=6899199f&scoped=true&\"\nimport script from \"./job_pie.vue?vue&type=script&lang=js&\"\nexport * from \"./job_pie.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6899199f\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./job_pie.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./job_pie.vue?vue&type=script&lang=js&\"","<template>\n    <div :id=\"tendId\" :style=\"{ height: height + 'px' }\"></div>\n</template>\n\n<script>\n    export default {\n        name: 'job-tend',\n        props: {\n            tendData: {\n                type: Object,\n                default: () => ({})\n            },\n            height: {\n                type: Number,\n                default: 240\n            },\n            navToggle: {\n                type: Boolean,\n                default: false\n            }\n        },\n        data() {\n            return {\n                chart: null\n            }\n        },\n        computed: {\n            tendId() {\n                return 'tend' + this._uid\n            }\n        },\n        watch: {\n            navToggle: {\n                handler(val, old) {\n                    if (this.chart) {\n                        setTimeout(() => {\n                            this.chart.resize()\n                        }, 200)\n                    }\n                },\n                immediate: true\n            },\n            tendData: {\n                handler(val, old) {\n                    if (this.chart) {\n                        this.chart.dispose()\n                        this.initChart()\n                    }\n                },\n                immediate: true,\n                deep: true\n            }\n        },\n        mounted() {\n            this.initChart()\n        },\n        methods: {\n            initChart() {\n                const chartDom = document.getElementById(this.tendId)\n                const myChart = this.$echarts.init(chartDom)\n                this.chart = myChart\n\n                //  数据格式化，json转二维数组\n                const that = this\n                const data = [[that.tendData.dimension]]\n                this.tendData.data.barData.forEach(function(item) {\n                    let colIndex = data[0].indexOf(item[that.tendData.legend])\n                    if (colIndex < 1) {\n                        data[0].push(item[that.tendData.legend])\n                        colIndex = data[0].length - 1\n                    }\n                    let rowIndex = 0\n                    for (let i = 1; i < data.length; i++) {\n                        if (data[i][0] === item[that.tendData.dimension]) {\n                            rowIndex = i\n                            break\n                        }\n                    }\n                    if (rowIndex === 0) {\n                        data.push([item[that.tendData.dimension]])\n                        rowIndex = data.length - 1\n                    }\n                    data[rowIndex][colIndex] = item[that.tendData.metric]\n                })\n                const lineData = []\n                this.tendData.data.lineData.forEach(function(item) {\n                    lineData.push(item[that.tendData.line])\n                })\n\n                //  配置设置\n                const option = {\n                    dataset: [\n                        {\n                            source: data\n                        }\n                    ],\n                    tooltip: {\n                        trigger: 'axis',\n                        axisPointer: {\n                            type: 'shadow'\n                        },\n                        textStyle: {\n                            color: '#63656E'\n                        }\n                    },\n                    legend: {\n                        bottom: 'bottom'\n                    },\n                    grid: {\n                        left: '3%',\n                        right: '4%',\n                        bottom: '15%',\n                        top: '5%',\n                        containLabel: true\n                    },\n                    xAxis: [\n                        {\n                            type: 'category',\n                            axisTick: {\n                                alignWithLabel: true\n                            },\n                            axisLabel: {\n                                color: '#979BA5'\n                            },\n                            axisLine: {\n                                lineStyle: {\n                                    color: '#F0F1F5'\n                                }\n                            }\n                        }\n                    ],\n                    yAxis: [\n                        {\n                            type: 'value',\n                            axisLabel: {\n                                color: '#979BA5'\n                            },\n                            splitLine: {\n                                lineStyle: {\n                                    color: '#F0F1F5'\n                                }\n                            }\n                        }\n                    ],\n                    series: [\n                        {\n                            type: 'bar',\n                            barWidth: '60%',\n                            barMaxWidth: 35,\n                            stack: 'tend',\n                            itemStyle: {\n                                color: '#5D7092'\n                            }\n                        },\n                        {\n                            type: 'bar',\n                            barWidth: '60%',\n                            barMaxWidth: 35,\n                            stack: 'tend',\n                            itemStyle: {\n                                color: '#5AD8A6'\n                            }\n                        },\n                        {\n                            type: 'bar',\n                            barWidth: '60%',\n                            barMaxWidth: 35,\n                            stack: 'tend',\n                            itemStyle: {\n                                color: '#699DF4'\n                            }\n                        },\n                        {\n                            type: 'line',\n                            name: '阈值',\n                            data: lineData,\n                            itemStyle: {\n                                color: '#FFCD7E'\n                            }\n                        }\n                    ]\n                }\n                window.addEventListener('resize', () => {\n                    myChart.resize()\n                })\n                option && myChart.setOption(option)\n            }\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home_second.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home_second.vue?vue&type=script&lang=js&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home-second\"},[_c('bk-container',{attrs:{\"col\":8,\"gutter\":16,\"ext-cls\":\"home-container\"}},[_c('bk-row',[_c('bk-col',{attrs:{\"span\":0}},[_c('Card',{attrs:{\"show-header\":false}},[_c('template',{slot:\"content\"},[_c('display-card',{attrs:{\"card-list\":_vm.cardList,\"height\":66}})],1)],2)],1)],1),_vm._v(\" \"),_c('bk-row',[_c('bk-col',{attrs:{\"span\":3}},[_c('Card',{attrs:{\"title\":'作业TOP10'}},[_c('template',{slot:\"content\"},[_c('job-bar',_vm._b({attrs:{\"bar-data\":_vm.barData,\"height\":250}},'job-bar',_vm.$attrs,false))],1)],2)],1),_vm._v(\" \"),_c('bk-col',{attrs:{\"span\":5}},[_c('Card',{attrs:{\"title\":'作业动态分布'}},[_c('template',{slot:\"content\"},[_c('job-pie',_vm._b({attrs:{\"pie-data\":_vm.pieData,\"height\":250}},'job-pie',_vm.$attrs,false))],1)],2)],1)],1),_vm._v(\" \"),_c('bk-row',[_c('bk-col',{attrs:{\"span\":0}},[_c('Card',{attrs:{\"title\":'作业执行趋势'}},[_c('template',{slot:\"header\"},[_c('div',{staticClass:\"bk-button-group\"},[_c('bk-button',{class:_vm.btnDays === '7' ? 'is-selected' : '',attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.btnDays = '7'}}},[_vm._v(\"\\n                                近7天\\n                            \")]),_vm._v(\" \"),_c('bk-button',{class:_vm.btnDays === '15' ? 'is-selected' : '',attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.btnDays = '15'}}},[_vm._v(\"\\n                                近15天\\n                            \")]),_vm._v(\" \"),_c('bk-button',{class:_vm.btnDays === '30' ? 'is-selected' : '',attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.btnDays = '30'}}},[_vm._v(\"\\n                                近30天\\n                            \")])],1)]),_vm._v(\" \"),_c('template',{slot:\"content\"},[_c('job-tend',_vm._b({attrs:{\"tend-data\":_vm.tendData,\"height\":270}},'job-tend',_vm.$attrs,false))],1)],2)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"],"sourceRoot":""}